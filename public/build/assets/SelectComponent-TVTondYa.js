import{r as u,j as I,a as De}from"./app-DTvIVVnx.js";import{c as _e,r as Te,P as F,g as B,a as A,B as $e}from"./index-DKc-WUgt.js";import{u as W,R as Le,P as Pe,O as We,C as Ve}from"./DialogComponent-CUGPmDTn.js";import{P as qe,a as Be,b as Ke}from"./popover-BPx36PGU.js";import{a as Ue}from"./Layout-iDNUZsXC.js";import{C as He}from"./index-D0Bxsnbg.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ye=_e("search",Ge);function $(n,i,e){let r=e.initialDeps??[],t;function s(){var l,o,h,c;let d;e.key&&((l=e.debug)!=null&&l.call(e))&&(d=Date.now());const p=n();if(!(p.length!==r.length||p.some((w,z)=>r[z]!==w)))return t;r=p;let y;if(e.key&&((o=e.debug)!=null&&o.call(e))&&(y=Date.now()),t=i(...p),e.key&&((h=e.debug)!=null&&h.call(e))){const w=Math.round((Date.now()-d)*100)/100,z=Math.round((Date.now()-y)*100)/100,v=z/16,E=(j,U)=>{for(j=String(j);j.length<U;)j=" "+j;return j};console.info(`%câ± ${E(z,5)} /${E(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,e?.key)}return(c=e?.onChange)==null||c.call(e,t),t}return s.updateDeps=l=>{r=l},s}function me(n,i){if(n===void 0)throw new Error("Unexpected undefined");return n}const Je=(n,i)=>Math.abs(n-i)<1.01,Xe=(n,i,e)=>{let r;return function(...t){n.clearTimeout(r),r=n.setTimeout(()=>i.apply(this,t),e)}},pe=n=>{const{offsetWidth:i,offsetHeight:e}=n;return{width:i,height:e}},Qe=n=>n,Ze=n=>{const i=Math.max(n.startIndex-n.overscan,0),e=Math.min(n.endIndex+n.overscan,n.count-1),r=[];for(let t=i;t<=e;t++)r.push(t);return r},et=(n,i)=>{const e=n.scrollElement;if(!e)return;const r=n.targetWindow;if(!r)return;const t=l=>{const{width:o,height:h}=l;i({width:Math.round(o),height:Math.round(h)})};if(t(pe(e)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(l=>{const o=()=>{const h=l[0];if(h?.borderBoxSize){const c=h.borderBoxSize[0];if(c){t({width:c.inlineSize,height:c.blockSize});return}}t(pe(e))};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(e,{box:"border-box"}),()=>{s.unobserve(e)}},ge={passive:!0},ve=typeof window>"u"?!0:"onscrollend"in window,tt=(n,i)=>{const e=n.scrollElement;if(!e)return;const r=n.targetWindow;if(!r)return;let t=0;const s=n.options.useScrollendEvent&&ve?()=>{}:Xe(r,()=>{i(t,!1)},n.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:p,isRtl:x}=n.options;t=p?e.scrollLeft*(x&&-1||1):e.scrollTop,s(),i(t,d)},o=l(!0),h=l(!1);h(),e.addEventListener("scroll",o,ge);const c=n.options.useScrollendEvent&&ve;return c&&e.addEventListener("scrollend",h,ge),()=>{e.removeEventListener("scroll",o),c&&e.removeEventListener("scrollend",h)}},nt=(n,i,e)=>{if(i?.borderBoxSize){const r=i.borderBoxSize[0];if(r)return Math.round(r[e.options.horizontal?"inlineSize":"blockSize"])}return n[e.options.horizontal?"offsetWidth":"offsetHeight"]},rt=(n,{adjustments:i=0,behavior:e},r)=>{var t,s;const l=n+i;(s=(t=r.scrollElement)==null?void 0:t.scrollTo)==null||s.call(t,{[r.options.horizontal?"left":"top"]:l,behavior:e})};class st{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const r=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(s=>{const l=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var t;(t=r())==null||t.disconnect(),e=null},observe:t=>{var s;return(s=r())==null?void 0:s.observe(t,{box:"border-box"})},unobserve:t=>{var s;return(s=r())==null?void 0:s.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([r,t])=>{typeof t>"u"&&delete e[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Qe,rangeExtractor:Ze,onChange:()=>{},measureElement:nt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var r,t;(t=(r=this.options).onChange)==null||t.call(r,this,e)},this.maybeNotify=$(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,r)=>{const t=new Map,s=new Map;for(let l=r-1;l>=0;l--){const o=e[l];if(t.has(o.lane))continue;const h=s.get(o.lane);if(h==null||o.end>h.end?s.set(o.lane,o):o.end<h.end&&t.set(o.lane,!0),t.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=$(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,r,t,s,l)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:r,scrollMargin:t,getItemKey:s,enabled:l}),{key:!1}),this.getMeasurements=$(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:r,scrollMargin:t,getItemKey:s,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const h=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,h);for(let d=h;d<e;d++){const p=s(d),x=this.options.lanes===1?c[d-1]:this.getFurthestMeasurement(c,d),y=x?x.end+this.options.gap:r+t,w=o.get(p),z=typeof w=="number"?w:this.options.estimateSize(d),v=y+z,E=x?x.lane:d%this.options.lanes;c[d]={index:d,start:y,size:z,end:v,key:p,lane:E}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=$(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,r,t,s)=>this.range=e.length>0&&r>0?it({measurements:e,outerSize:r,scrollOffset:t,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=$(()=>{let e=null,r=null;const t=this.calculateRange();return t&&(e=t.startIndex,r=t.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,r]},(e,r,t,s,l)=>s===null||l===null?[]:e({startIndex:s,endIndex:l,overscan:r,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const r=this.options.indexAttribute,t=e.getAttribute(r);return t?parseInt(t,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(e,r)=>{const t=this.indexFromElement(e),s=this.measurementsCache[t];if(!s)return;const l=s.key,o=this.elementsCache.get(l);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,r,this))},this.resizeItem=(e,r)=>{const t=this.measurementsCache[e];if(!t)return;const s=this.itemSizeCache.get(t.key)??t.size,l=r-s;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,l,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,r)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((r,t)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=$(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,r)=>{const t=[];for(let s=0,l=e.length;s<l;s++){const o=e[s],h=r[o];t.push(h)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const r=this.getMeasurements();if(r.length!==0)return me(r[Se(0,r.length-1,t=>me(r[t]).start,e)])},this.getOffsetForAlignment=(e,r,t=0)=>{const s=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=e>=l+s?"end":"start"),r==="center"?e+=(t-s)/2:r==="end"&&(e-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,r="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const s=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(t.end>=l+s-this.options.scrollPaddingEnd)r="end";else if(t.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const o=r==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,t.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:r="start",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,r),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:r="auto",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let s=0;const l=10,o=c=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(e,c);if(!d){console.warn("Failed to get offset for index:",e);return}const[p,x]=d;this._scrollToOffset(p,{adjustments:void 0,behavior:t}),this.targetWindow.requestAnimationFrame(()=>{const y=this.getScrollOffset(),w=this.getOffsetForIndex(e,x);if(!w){console.warn("Failed to get offset for index:",e);return}Je(w[0],y)||h(x)})},h=c=>{this.targetWindow&&(s++,s<l?this.targetWindow.requestAnimationFrame(()=>o(c)):console.warn(`Failed to scroll to index ${e} after ${l} attempts.`))};o(r)},this.scrollBy=(e,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var e;const r=this.getMeasurements();let t;if(r.length===0)t=this.options.paddingStart;else if(this.options.lanes===1)t=((e=r[r.length-1])==null?void 0:e.end)??0;else{const s=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&s.some(o=>o===null);){const o=r[l];s[o.lane]===null&&(s[o.lane]=o.end),l--}t=Math.max(...s.filter(o=>o!==null))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:r,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(i)}}const Se=(n,i,e,r)=>{for(;n<=i;){const t=(n+i)/2|0,s=e(t);if(s<r)n=t+1;else if(s>r)i=t-1;else return t}return n>0?n-1:0};function it({measurements:n,outerSize:i,scrollOffset:e,lanes:r}){const t=n.length-1,s=h=>n[h].start;if(n.length<=r)return{startIndex:0,endIndex:t};let l=Se(0,t,s,e),o=l;if(r===1)for(;o<t&&n[o].end<e+i;)o++;else if(r>1){const h=Array(r).fill(0);for(;o<t&&h.some(d=>d<e+i);){const d=n[o];h[d.lane]=d.end,o++}const c=Array(r).fill(e+i);for(;l>=0&&c.some(d=>d>=e);){const d=n[l];c[d.lane]=d.start,l--}l=Math.max(0,l-l%r),o=Math.min(t,o+(r-1-o%r))}return{startIndex:l,endIndex:o}}const be=typeof document<"u"?u.useLayoutEffect:u.useEffect;function lt(n){const i=u.useReducer(()=>({}),{})[1],e={...n,onChange:(t,s)=>{var l;s?Te.flushSync(i):i(),(l=n.onChange)==null||l.call(n,t,s)}},[r]=u.useState(()=>new st(e));return r.setOptions(e),be(()=>r._didMount(),[]),be(()=>r._willUpdate()),r}function ot(n){return lt({observeElementRect:et,observeElementOffset:tt,scrollToFn:rt,...n})}var xe=1,at=.9,ut=.8,ct=.17,ne=.1,re=.999,dt=.9999,ht=.99,ft=/[\\\/_+.#"@\[\(\{&]/,mt=/[\\\/_+.#"@\[\(\{&]/g,pt=/[\s-]/,Ee=/[\s-]/g;function ie(n,i,e,r,t,s,l){if(s===i.length)return t===n.length?xe:ht;var o=`${t},${s}`;if(l[o]!==void 0)return l[o];for(var h=r.charAt(s),c=e.indexOf(h,t),d=0,p,x,y,w;c>=0;)p=ie(n,i,e,r,c+1,s+1,l),p>d&&(c===t?p*=xe:ft.test(n.charAt(c-1))?(p*=ut,y=n.slice(t,c-1).match(mt),y&&t>0&&(p*=Math.pow(re,y.length))):pt.test(n.charAt(c-1))?(p*=at,w=n.slice(t,c-1).match(Ee),w&&t>0&&(p*=Math.pow(re,w.length))):(p*=ct,t>0&&(p*=Math.pow(re,c-t))),n.charAt(c)!==i.charAt(s)&&(p*=dt)),(p<ne&&e.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&e.charAt(c-1)!==r.charAt(s))&&(x=ie(n,i,e,r,c+1,s+2,l),x*ne>p&&(p=x*ne)),p>d&&(d=p),c=e.indexOf(h,c+1);return l[o]=d,d}function ye(n){return n.toLowerCase().replace(Ee," ")}function gt(n,i,e){return n=e&&e.length>0?`${n+" "+e.join(" ")}`:n,ie(n,i,ye(n),ye(i),0,0,{})}var q='[cmdk-group=""]',se='[cmdk-group-items=""]',vt='[cmdk-group-heading=""]',Ce='[cmdk-item=""]',we=`${Ce}:not([aria-disabled="true"])`,le="cmdk-item-select",L="data-value",bt=(n,i,e)=>gt(n,i,e),Ie=u.createContext(void 0),K=()=>u.useContext(Ie),Me=u.createContext(void 0),oe=()=>u.useContext(Me),ke=u.createContext(void 0),Re=u.forwardRef((n,i)=>{let e=P(()=>{var a,m;return{search:"",value:(m=(a=n.value)!=null?a:n.defaultValue)!=null?m:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=P(()=>new Set),t=P(()=>new Map),s=P(()=>new Map),l=P(()=>new Set),o=ze(n),{label:h,children:c,value:d,onValueChange:p,filter:x,shouldFilter:y,loop:w,disablePointerSelection:z=!1,vimBindings:v=!0,...E}=n,j=W(),U=W(),Y=W(),D=u.useRef(null),C=zt();_(()=>{if(d!==void 0){let a=d.trim();e.current.value=a,k.emit()}},[d]),_(()=>{C(6,ue)},[]);let k=u.useMemo(()=>({subscribe:a=>(l.current.add(a),()=>l.current.delete(a)),snapshot:()=>e.current,setState:(a,m,g)=>{var f,b,S,O;if(!Object.is(e.current[a],m)){if(e.current[a]=m,a==="search")Z(),X(),C(1,Q);else if(a==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let M=document.getElementById(Y);M?M.focus():(f=document.getElementById(j))==null||f.focus()}if(C(7,()=>{var M;e.current.selectedItemId=(M=T())==null?void 0:M.id,k.emit()}),g||C(5,ue),((b=o.current)==null?void 0:b.value)!==void 0){let M=m??"";(O=(S=o.current).onValueChange)==null||O.call(S,M);return}}k.emit()}},emit:()=>{l.current.forEach(a=>a())}}),[]),J=u.useMemo(()=>({value:(a,m,g)=>{var f;m!==((f=s.current.get(a))==null?void 0:f.value)&&(s.current.set(a,{value:m,keywords:g}),e.current.filtered.items.set(a,ae(m,g)),C(2,()=>{X(),k.emit()}))},item:(a,m)=>(r.current.add(a),m&&(t.current.has(m)?t.current.get(m).add(a):t.current.set(m,new Set([a]))),C(3,()=>{Z(),X(),e.current.value||Q(),k.emit()}),()=>{s.current.delete(a),r.current.delete(a),e.current.filtered.items.delete(a);let g=T();C(4,()=>{Z(),g?.getAttribute("id")===a&&Q(),k.emit()})}),group:a=>(t.current.has(a)||t.current.set(a,new Set),()=>{s.current.delete(a),t.current.delete(a)}),filter:()=>o.current.shouldFilter,label:h||n["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:j,inputId:Y,labelId:U,listInnerRef:D}),[]);function ae(a,m){var g,f;let b=(f=(g=o.current)==null?void 0:g.filter)!=null?f:bt;return a?b(a,e.current.search,m):0}function X(){if(!e.current.search||o.current.shouldFilter===!1)return;let a=e.current.filtered.items,m=[];e.current.filtered.groups.forEach(f=>{let b=t.current.get(f),S=0;b.forEach(O=>{let M=a.get(O);S=Math.max(M,S)}),m.push([f,S])});let g=D.current;V().sort((f,b)=>{var S,O;let M=f.getAttribute("id"),H=b.getAttribute("id");return((S=a.get(H))!=null?S:0)-((O=a.get(M))!=null?O:0)}).forEach(f=>{let b=f.closest(se);b?b.appendChild(f.parentElement===b?f:f.closest(`${se} > *`)):g.appendChild(f.parentElement===g?f:f.closest(`${se} > *`))}),m.sort((f,b)=>b[1]-f[1]).forEach(f=>{var b;let S=(b=D.current)==null?void 0:b.querySelector(`${q}[${L}="${encodeURIComponent(f[0])}"]`);S?.parentElement.appendChild(S)})}function Q(){let a=V().find(g=>g.getAttribute("aria-disabled")!=="true"),m=a?.getAttribute(L);k.setState("value",m||void 0)}function Z(){var a,m,g,f;if(!e.current.search||o.current.shouldFilter===!1){e.current.filtered.count=r.current.size;return}e.current.filtered.groups=new Set;let b=0;for(let S of r.current){let O=(m=(a=s.current.get(S))==null?void 0:a.value)!=null?m:"",M=(f=(g=s.current.get(S))==null?void 0:g.keywords)!=null?f:[],H=ae(O,M);e.current.filtered.items.set(S,H),H>0&&b++}for(let[S,O]of t.current)for(let M of O)if(e.current.filtered.items.get(M)>0){e.current.filtered.groups.add(S);break}e.current.filtered.count=b}function ue(){var a,m,g;let f=T();f&&(((a=f.parentElement)==null?void 0:a.firstChild)===f&&((g=(m=f.closest(q))==null?void 0:m.querySelector(vt))==null||g.scrollIntoView({block:"nearest"})),f.scrollIntoView({block:"nearest"}))}function T(){var a;return(a=D.current)==null?void 0:a.querySelector(`${Ce}[aria-selected="true"]`)}function V(){var a;return Array.from(((a=D.current)==null?void 0:a.querySelectorAll(we))||[])}function ee(a){let m=V()[a];m&&k.setState("value",m.getAttribute(L))}function te(a){var m;let g=T(),f=V(),b=f.findIndex(O=>O===g),S=f[b+a];(m=o.current)!=null&&m.loop&&(S=b+a<0?f[f.length-1]:b+a===f.length?f[0]:f[b+a]),S&&k.setState("value",S.getAttribute(L))}function ce(a){let m=T(),g=m?.closest(q),f;for(;g&&!f;)g=a>0?kt(g,q):Rt(g,q),f=g?.querySelector(we);f?k.setState("value",f.getAttribute(L)):te(a)}let de=()=>ee(V().length-1),he=a=>{a.preventDefault(),a.metaKey?de():a.altKey?ce(1):te(1)},fe=a=>{a.preventDefault(),a.metaKey?ee(0):a.altKey?ce(-1):te(-1)};return u.createElement(F.div,{ref:i,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:a=>{var m;(m=E.onKeyDown)==null||m.call(E,a);let g=a.nativeEvent.isComposing||a.keyCode===229;if(!(a.defaultPrevented||g))switch(a.key){case"n":case"j":{v&&a.ctrlKey&&he(a);break}case"ArrowDown":{he(a);break}case"p":case"k":{v&&a.ctrlKey&&fe(a);break}case"ArrowUp":{fe(a);break}case"Home":{a.preventDefault(),ee(0);break}case"End":{a.preventDefault(),de();break}case"Enter":{a.preventDefault();let f=T();if(f){let b=new Event(le);f.dispatchEvent(b)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:jt},h),G(n,a=>u.createElement(Me.Provider,{value:k},u.createElement(Ie.Provider,{value:J},a))))}),xt=u.forwardRef((n,i)=>{var e,r;let t=W(),s=u.useRef(null),l=u.useContext(ke),o=K(),h=ze(n),c=(r=(e=h.current)==null?void 0:e.forceMount)!=null?r:l?.forceMount;_(()=>{if(!c)return o.item(t,l?.id)},[c]);let d=Oe(t,s,[n.value,n.children,s],n.keywords),p=oe(),x=N(C=>C.value&&C.value===d.current),y=N(C=>c||o.filter()===!1?!0:C.search?C.filtered.items.get(t)>0:!0);u.useEffect(()=>{let C=s.current;if(!(!C||n.disabled))return C.addEventListener(le,w),()=>C.removeEventListener(le,w)},[y,n.onSelect,n.disabled]);function w(){var C,k;z(),(k=(C=h.current).onSelect)==null||k.call(C,d.current)}function z(){p.setState("value",d.current,!0)}if(!y)return null;let{disabled:v,value:E,onSelect:j,forceMount:U,keywords:Y,...D}=n;return u.createElement(F.div,{ref:B(s,i),...D,id:t,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!x,"data-disabled":!!v,"data-selected":!!x,onPointerMove:v||o.getDisablePointerSelection()?void 0:z,onClick:v?void 0:w},n.children)}),yt=u.forwardRef((n,i)=>{let{heading:e,children:r,forceMount:t,...s}=n,l=W(),o=u.useRef(null),h=u.useRef(null),c=W(),d=K(),p=N(y=>t||d.filter()===!1?!0:y.search?y.filtered.groups.has(l):!0);_(()=>d.group(l),[]),Oe(l,o,[n.value,n.heading,h]);let x=u.useMemo(()=>({id:l,forceMount:t}),[t]);return u.createElement(F.div,{ref:B(o,i),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},e&&u.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:c},e),G(n,y=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":e?c:void 0},u.createElement(ke.Provider,{value:x},y))))}),wt=u.forwardRef((n,i)=>{let{alwaysRender:e,...r}=n,t=u.useRef(null),s=N(l=>!l.search);return!e&&!s?null:u.createElement(F.div,{ref:B(t,i),...r,"cmdk-separator":"",role:"separator"})}),St=u.forwardRef((n,i)=>{let{onValueChange:e,...r}=n,t=n.value!=null,s=oe(),l=N(c=>c.search),o=N(c=>c.selectedItemId),h=K();return u.useEffect(()=>{n.value!=null&&s.setState("search",n.value)},[n.value]),u.createElement(F.input,{ref:i,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":o,id:h.inputId,type:"text",value:t?n.value:l,onChange:c=>{t||s.setState("search",c.target.value),e?.(c.target.value)}})}),Et=u.forwardRef((n,i)=>{let{children:e,label:r="Suggestions",...t}=n,s=u.useRef(null),l=u.useRef(null),o=N(c=>c.selectedItemId),h=K();return u.useEffect(()=>{if(l.current&&s.current){let c=l.current,d=s.current,p,x=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=c.offsetHeight;d.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return x.observe(c),()=>{cancelAnimationFrame(p),x.unobserve(c)}}},[]),u.createElement(F.div,{ref:B(s,i),...t,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:h.listId},G(n,c=>u.createElement("div",{ref:B(l,h.listInnerRef),"cmdk-list-sizer":""},c)))}),Ct=u.forwardRef((n,i)=>{let{open:e,onOpenChange:r,overlayClassName:t,contentClassName:s,container:l,...o}=n;return u.createElement(Le,{open:e,onOpenChange:r},u.createElement(Pe,{container:l},u.createElement(We,{"cmdk-overlay":"",className:t}),u.createElement(Ve,{"aria-label":n.label,"cmdk-dialog":"",className:s},u.createElement(Re,{ref:i,...o}))))}),It=u.forwardRef((n,i)=>N(e=>e.filtered.count===0)?u.createElement(F.div,{ref:i,...n,"cmdk-empty":"",role:"presentation"}):null),Mt=u.forwardRef((n,i)=>{let{progress:e,children:r,label:t="Loading...",...s}=n;return u.createElement(F.div,{ref:i,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,"aria-label":t},G(n,l=>u.createElement("div",{"aria-hidden":!0},l)))}),R=Object.assign(Re,{List:Et,Item:xt,Input:St,Group:yt,Separator:wt,Dialog:Ct,Empty:It,Loading:Mt});function kt(n,i){let e=n.nextElementSibling;for(;e;){if(e.matches(i))return e;e=e.nextElementSibling}}function Rt(n,i){let e=n.previousElementSibling;for(;e;){if(e.matches(i))return e;e=e.previousElementSibling}}function ze(n){let i=u.useRef(n);return _(()=>{i.current=n}),i}var _=typeof window>"u"?u.useEffect:u.useLayoutEffect;function P(n){let i=u.useRef();return i.current===void 0&&(i.current=n()),i}function N(n){let i=oe(),e=()=>n(i.snapshot());return u.useSyncExternalStore(i.subscribe,e,e)}function Oe(n,i,e,r=[]){let t=u.useRef(),s=K();return _(()=>{var l;let o=(()=>{var c;for(let d of e){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():t.current}})(),h=r.map(c=>c.trim());s.value(n,o,h),(l=i.current)==null||l.setAttribute(L,o),t.current=o}),t}var zt=()=>{let[n,i]=u.useState(),e=P(()=>new Map);return _(()=>{e.current.forEach(r=>r()),e.current=new Map},[n]),(r,t)=>{e.current.set(r,t),i({})}};function Ot(n){let i=n.type;return typeof i=="function"?i(n.props):"render"in i?i.render(n.props):n}function G({asChild:n,children:i},e){return n&&u.isValidElement(i)?u.cloneElement(Ot(i),{ref:i.ref},e(i.props.children)):e(i)}var jt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const je=u.forwardRef(({className:n,...i},e)=>I.jsx(R,{ref:e,className:A("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...i}));je.displayName=R.displayName;const Ae=u.forwardRef(({className:n,...i},e)=>I.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[I.jsx(Ye,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),I.jsx(R.Input,{ref:e,className:A("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...i})]}));Ae.displayName=R.Input.displayName;const Ne=u.forwardRef(({className:n,...i},e)=>I.jsx(R.List,{ref:e,className:A("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...i}));Ne.displayName=R.List.displayName;const At=u.forwardRef((n,i)=>I.jsx(R.Empty,{ref:i,className:"py-6 text-center text-sm",...n}));At.displayName=R.Empty.displayName;const Nt=u.forwardRef(({className:n,...i},e)=>I.jsx(R.Group,{ref:e,className:A("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...i}));Nt.displayName=R.Group.displayName;const Ft=u.forwardRef(({className:n,...i},e)=>I.jsx(R.Separator,{ref:e,className:A("-mx-1 h-px bg-border",n),...i}));Ft.displayName=R.Separator.displayName;const Fe=u.forwardRef(({className:n,...i},e)=>I.jsx(R.Item,{ref:e,className:A("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n),...i}));Fe.displayName=R.Item.displayName;function Wt({placeholder:n="Cari data...",value:i,onChange:e,route:r,parent:t=null,parentRequired:s=!1}){const l=u.useRef(null),[o,h]=u.useState([]),[c,d]=u.useState(!1),[p,x]=u.useState(""),y=o.filter(v=>{const E=v.label.toLowerCase().includes(p.toLowerCase());return t?v.parent===t&&E:E}),w=ot({count:y.length,getScrollElement:()=>l.current,estimateSize:()=>45}),z=async()=>{try{const E=(await De.get(r,{params:{parent:t}})).data;h(E.data)}catch(v){v.response?(console.log(v.response.data),console.log(v.response.status),console.log(v.response.headers)):v.request?console.log(v.request):console.log("Error",v.message),console.log(v.config)}};return u.useEffect(()=>{z()},[]),u.useEffect(()=>{c&&w.measure()},[c,w]),u.useEffect(()=>{t&&e("")},[t]),I.jsxs(qe,{open:c,onOpenChange:d,children:[I.jsx(Be,{asChild:!0,disabled:s,children:I.jsxs($e,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i?o.find(v=>v.id.toString()===i.toString())?.label:n,I.jsx(Ue,{className:"opacity-50"})]})}),I.jsx(Ke,{className:"w-full p-0",children:I.jsxs(je,{shouldFilter:!1,children:[I.jsx(Ae,{placeholder:n,className:"h-9",onValueChange:v=>x(v)}),I.jsx(Ne,{ref:c?l:null,style:{maxHeight:"300px",overflow:"auto"},children:I.jsx("div",{style:{height:`${w.getTotalSize()}px`},className:"w-full relative",children:w.getVirtualItems().map(v=>{const E=y[v.index];return E?I.jsxs(Fe,{value:E.label,onSelect:()=>{e(E.id),d(!1),x("")},className:A("absolute top-0 left-0 py-3 w-full justify-between","focus:bg-green-600"),style:{transform:`translateY(${v.start}px)`},children:[E.label,I.jsx(He,{className:A("mr-2 h-4 w-4",i===E.id?"opacity-100":"opacity-0")})]},E.id):null})})})]})})]})}export{Wt as S};
